<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AUTOCAD Quizz</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Couleurs extraites de l'interface Gemini */
            --primary-blue: #0b57d0;
            --bg-light: #ffffff;
            --bg-option: #f3f6fc;
            --text-dark: #1f1f1f;
            --text-light: #444746;
            
            --success-bg: #c4eed0;
            --success-text: #046c4e;
            --success-border: #6dd58c;

            --error-bg: #f8d7da;
            --error-text: #a50e0e;
            --error-border: #f5c6cb;
            
            --gray-border: #e0e3e7;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-light);
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            color: var(--text-dark);
        }

        /* --- HEADER --- */
        header {
            padding: 16px 24px;
            display: flex;
            align-items: center;
            /* Pas d'√©l√©ments √† droite, juste le titre √† gauche */
        }

        .header-title {
            font-size: 22px;
            font-weight: 400;
            color: var(--text-dark);
        }

        /* --- CONTAINER PRINCIPAL --- */
        .container {
            max-width: 680px;
            margin: 0 auto;
            padding: 20px 24px;
            flex-grow: 1;
            width: 100%;
            box-sizing: border-box;
        }

        /* --- BARRE DE PROGRESSION & SCORES --- */
        .progress-section {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 32px;
        }

        .progress-bar-track {
            flex-grow: 1;
            height: 8px;
            background: #e3e3e3;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-blue);
            border-radius: 4px;
            transition: width 0.4s ease;
        }

        .counter-text {
            font-size: 14px;
            color: var(--text-light);
            font-weight: 500;
            min-width: 45px;
        }

        .score-badges { display: flex; gap: 12px; }
        .badge {
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .badge-red { background: var(--error-bg); color: var(--error-text); }
        .badge-green { background: var(--success-bg); color: var(--success-text); }

        /* --- QUESTION --- */
        .question-text {
            font-size: 20px;
            line-height: 1.6;
            margin-bottom: 32px;
            font-weight: 500;
        }

        /* --- OPTIONS --- */
        .options-list { display: flex; flex-direction: column; gap: 12px; }

        /* Le bouton de l'option */
        .option-btn {
            width: 100%;
            text-align: left;
            background: var(--bg-option);
            padding: 16px 20px;
            border-radius: 12px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s;
            font-size: 16px;
            color: var(--text-dark);
            font-family: inherit;
            display: flex;
            align-items: flex-start;
        }
        
        .option-letter { font-weight: 500; margin-right: 12px; min-width: 25px;}

        .option-btn:hover:not(:disabled) { background: #e8eef6; }

        /* √âtats apr√®s r√©ponse */
        .option-btn:disabled { cursor: default; }

        .option-btn.selected-wrong {
            background: var(--error-bg);
            border-color: var(--error-bg);
            color: var(--error-text);
        }
        
        .option-btn.show-correct {
            background: var(--success-bg);
            border-color: var(--success-bg);
            color: var(--success-text);
        }

        /* --- BOITES D'EXPLICATION (Feedback style Gemini) --- */
        .feedback-box {
            padding: 16px 20px;
            border-radius: 12px;
            margin-top: -4px; /* Coll√© sous le bouton */
            margin-bottom: 16px;
            font-size: 15px;
            line-height: 1.5;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .feedback-wrong {
            background: var(--error-bg);
            color: var(--error-text);
            border: 1px solid var(--error-border);
        }

        .feedback-correct {
            background: var(--success-bg);
            color: var(--success-text);
            border: 1px solid var(--success-border);
        }

        .feedback-title {
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        /* --- BOUTONS D'ACTION --- */
        .actions {
            display: flex;
            justify-content: flex-end; /* Juste le bouton suivant √† droite */
            margin-top: 32px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 24px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            font-size: 16px;
            transition: background 0.2s;
        }

        .btn-next {
            background: var(--primary-blue);
            color: white;
            min-width: 120px;
        }
        .btn-next:hover { background: #0a46a8; }
        .btn:disabled { opacity: 0.4; cursor: not-allowed; }

        /* --- √âCRAN DE R√âSULTAT --- */
        #result-screen { display: none; text-align: center; padding-top: 40px; }
        .result-title { font-size: 28px; margin-bottom: 30px; }
        
        .result-cards-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 40px;
        }

        .result-card {
            background: var(--bg-option);
            padding: 24px;
            border-radius: 16px;
            width: 140px;
            text-align: left;
        }
        .result-card p { font-size: 14px; color: var(--text-light); margin: 0 0 10px 0; }
        .result-card h1 { font-size: 32px; margin: 0; color: var(--primary-blue); }

        /* --- FOOTER --- */
        footer {
            text-align: center;
            padding: 24px;
            font-size: 14px;
            color: var(--text-light);
            border-top: 1px solid var(--gray-border);
            margin-top: auto;
        }
    </style>
</head>
<body>

<header>
    <div class="header-title">AUTOCAD Quizz üíª</div>
</header>

<div class="container">
    <div id="quiz-screen">
        <div class="progress-section">
            <div class="progress-bar-track">
                <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
            </div>
            <div class="counter-text" id="question-counter">1/20</div>
            <div class="score-badges">
                <div class="badge badge-red">‚úï <span id="wrong-count">0</span></div>
                <div class="badge badge-green">‚úì <span id="correct-count">0</span></div>
            </div>
        </div>

        <div id="question-container">
            <div class="question-text" id="question-text">Chargement...</div>
            <div class="options-list" id="options-list"></div>
        </div>

        <div class="actions">
            <button class="btn btn-next" id="btn-suivant" disabled>Suivant</button>
        </div>
    </div>

    <div id="result-screen">
        <h2 class="result-title">Termin√© ! Voici vos r√©sultats.</h2>
        <div class="result-cards-container">
            <div class="result-card">
                <p>Note finale</p>
                <h1 id="final-score">0/20</h1>
            </div>
            <div class="result-card">
                <p>Pr√©cision</p>
                <h1 id="final-percent">0%</h1>
            </div>
        </div>
        <button class="btn btn-next" onclick="location.reload()">Recommencer le Quizz</button>
    </div>
</div>

<footer>
    <p><strong>Con√ßu par Max_Adis</strong></p>
</footer>

<script>
    /* --- LES 20 QUESTIONS BAS√âES SUR TES DOCUMENTS --- */
    const questions = [
        {
            q: "Selon votre cours, quelle commande permet de dupliquer rapidement un objet √† un emplacement pr√©cis et de r√©p√©ter l'action ?",
            options: ["Ligne", "Copier", "D√©placer", "Aucun"],
            correct: 1, // Index de "Copier"
            explanation: "La commande COPIER permet de cr√©er des doubles d'objets √† une distance et dans une direction sp√©cifi√©es."
        },
        {
            q: "Quelle commande permet de basculer un objet selon un axe sym√©trique (cr√©er un reflet inverse) ?",
            options: ["Polyligne", "Ligne", "Miroir", "Aucun"],
            correct: 2,
            explanation: "La commande MIROIR cr√©e une copie invers√©e de l'objet s√©lectionn√© par rapport √† une ligne de sym√©trie d√©finie."
        },
        {
            q: "Quelle commande permet d'obtenir une nouvelle entit√© similaire et parall√®le √† l'originale en donnant une distance ?",
            options: ["D√©caler", "D√©placer", "Sym√©trie", "Aucun"],
            correct: 0,
            explanation: "La commande D√âCALER cr√©e des cercles concentriques, des lignes parall√®les et des courbes parall√®les."
        },
        {
            q: "Quelle commande effectue une translation (d√©placer selon une distance et une direction sp√©cifi√©e) ?",
            options: ["D√©placer", "Rotation", "D√©caler", "Aucun"],
            correct: 0,
            explanation: "La commande D√âPLACER change la position des objets sans modifier leur orientation ou leur taille."
        },
        {
            q: "Quel mode emp√™che les mouvements obliques quand il est activ√©, for√ßant des lignes horizontales ou verticales ?",
            options: ["D√©composer", "√âchelle", "Polygone", "Mode Ortho"],
            correct: 3,
            explanation: "Le mode ORTHO (souvent activ√© par F8) contraint le curseur aux axes horizontaux et verticaux."
        },
        {
            q: "Quelle commande permet de s√©parer un objet complexe (comme un bloc ou une polyligne) en ses composants individuels ?",
            options: ["D√©composer", "Copier", "D√©caler", "Aucun"],
            correct: 0,
            explanation: "La commande D√âCOMPOSER (Explode) r√©duit un objet compos√© en ses √©l√©ments de base."
        },
        /* --- Questions bas√©es sur les Figures et la th√©orie √âlec --- */
        {
            q: "La Figure 3 du document pr√©sente quel type de plan ?",
            options: ["Un plan architectural", "Un sch√©ma de puissance moteur", "Un sch√©ma unifilaire de distribution", "Un bornier"],
            correct: 1,
            explanation: "La Figure 3 montre un moteur (M), un contacteur (KM1, KM2) et un relais thermique (F2), typique d'un circuit de puissance."
        },
        {
            q: "La Figure 1 du document pr√©sente quel type de plan ?",
            options: ["Un sch√©ma unifilaire", "Un sch√©ma multifilaire", "Un plan d'implantation architectural √©lectrique", "Un sch√©ma fonctionnel"],
            correct: 2,
            explanation: "C'est un plan de b√¢timent (vue de dessus) montrant o√π sont plac√©s les prises, interrupteurs et luminaires."
        },
        {
            q: "Le sch√©ma de la Figure 2 est-il un sch√©ma multifilaire ?",
            options: ["Vrai", "Faux"],
            correct: 0,
            explanation: "Vrai. Tous les conducteurs (phase, neutre, terre) sont repr√©sent√©s distinctement pour chaque d√©part."
        },
        {
            q: "Quel est le but principal d'un sch√©ma √©lectrique selon le cours ?",
            options: ["Calculer le co√ªt", "Expliquer le fonctionnement de l'√©quipement", "D√©finir la couleur des murs", "Aucun"],
            correct: 1,
            explanation: "Il sert √† comprendre le fonctionnement, le c√¢blage et √† faciliter le d√©pannage de l'installation."
        },
        {
            q: "Dans la Figure 2, que signifie '30ma' sur le disjoncteur diff√©rentiel ID1 ?",
            options: ["Son courant nominal", "Sa tension de service", "Sa sensibilit√© de d√©clenchement diff√©rentiel", "Sa puissance"],
            correct: 2,
            explanation: "30mA est la sensibilit√©. Il coupe le courant si la fuite √† la terre d√©passe cette valeur (protection des personnes)."
        },
        /* --- Questions G√©n√©rales AutoCAD/DAO --- */
        {
            q: "Quelle est l'extension de fichier standard pour un dessin AutoCAD ?",
            options: [".pdf", ".dwg", ".docx", ".jpg"],
            correct: 1,
            explanation: "Le format natif des fichiers dessins AutoCAD est le .dwg (Drawing)."
        },
        {
            q: "Quelle touche de fonction est g√©n√©ralement utilis√©e comme raccourci pour activer/d√©sactiver le mode ORTHO ?",
            options: ["F1", "F3", "F8", "F12"],
            correct: 2,
            explanation: "La touche F8 est le raccourci standard pour basculer le mode Orthogonal."
        },
        {
            q: "Pour dessiner une suite de segments de ligne connect√©s qui forment un seul objet, on utilise :",
            options: ["Ligne", "Polyligne", "Arc", "Cercle"],
            correct: 1,
            explanation: "Une Polyligne (PLINE) cr√©e une s√©quence unique d'objets lin√©aires ou courbes."
        },
        {
            q: "√Ä quoi servent principalement les 'Calques' (Layers) dans AutoCAD ?",
            options: ["√Ä faire des calculs", "√Ä organiser le dessin en regroupant des objets similaires", "√Ä imprimer en 3D", "√Ä rien"],
            correct: 1,
            explanation: "Les calques permettent de g√©rer la visibilit√©, la couleur et le type de ligne de groupes d'objets (ex: calque Murs, calque √âlec)."
        },
        {
            q: "Dans l'interface AutoCAD, o√π devez-vous aller pour pr√©parer votre dessin pour l'impression ?",
            options: ["Espace Objet (Model)", "Espace Pr√©sentation (Layout/Paper)", "La ligne de commande", "Le menu d'aide"],
            correct: 1,
            explanation: "L'espace Pr√©sentation est con√ßu pour la mise en page, l'ajout de cartouches et la pr√©paration √† l'impression."
        },
        {
            q: "Quel outil permet de remplir une zone ferm√©e avec un motif (ex: pour repr√©senter un mur coup√©) ?",
            options: ["Hachures", "Remplir", "Gradient", "Contour"],
            correct: 0,
            explanation: "La commande HACHURES (HATCH) remplit une zone d√©limit√©e avec un motif pr√©d√©fini."
        },
        {
            q: "Quelle est la commande raccourcie (alias) usuelle pour dessiner un CERCLE ?",
            options: ["CE", "CI", "C", "CR"],
            correct: 2,
            explanation: "Taper juste 'C' puis Entr√©e lance g√©n√©ralement la commande CERCLE."
        },
        {
            q: "Dans un cartouche de plan, que trouve-t-on g√©n√©ralement ?",
            options: ["Le titre du projet et l'√©chelle", "La liste des courses", "Des photos du chantier", "Uniquement le logo"],
            correct: 0,
            explanation: "Le cartouche contient les infos essentielles : titre, nom du dessinateur, date, √©chelle, num√©ro de plan, etc."
        },
        {
            q: "Si vous voulez zoomer pour voir tout votre dessin d'un coup, quelle commande Zoom utilisez-vous ?",
            options: ["Zoom Fen√™tre", "Zoom Tout / √âtendu", "Zoom Arri√®re", "Zoom Avant"],
            correct: 1,
            explanation: "Zoom √âtendu (Zoom Extents) ajuste la vue pour afficher tous les objets dessin√©s."
        }
    ];

    /* --- LOGIQUE JAVASCRIPT --- */
    let currentIdx = 0;
    let score = 0;
    let wrongs = 0;
    let isAnswered = false;

    // √âl√©ments du DOM
    const quizScreen = document.getElementById('quiz-screen');
    const resultScreen = document.getElementById('result-screen');
    const qTextEl = document.getElementById('question-text');
    const optionsListEl = document.getElementById('options-list');
    const btnSuivant = document.getElementById('btn-suivant');
    const progressFill = document.getElementById('progress-fill');
    const counterText = document.getElementById('question-counter');
    const correctCountSpan = document.getElementById('correct-count');
    const wrongCountSpan = document.getElementById('wrong-count');

    // Lettres pour les options (A, B, C, D...)
    const letters = ['A', 'B', 'C', 'D', 'E'];

    function loadQuestion() {
        isAnswered = false;
        const currentQ = questions[currentIdx];
        
        // Mise √† jour de l'interface
        qTextEl.innerText = `${currentIdx + 1}. ${currentQ.q}`;
        optionsListEl.innerHTML = ''; // Vider les anciennes options
        btnSuivant.disabled = true;

        // G√©n√©rer les boutons d'option
        currentQ.options.forEach((optText, index) => {
            // Cr√©er le conteneur principal pour le bouton ET son feedback potentiel
            const optionWrapper = document.createElement('div');
            optionWrapper.id = `option-wrapper-${index}`;

            // Cr√©er le bouton
            const button = document.createElement('button');
            button.className = 'option-btn';
            button.id = `btn-${index}`;
            button.innerHTML = `<span class="option-letter">${letters[index]}.</span> ${optText}`;
            button.onclick = () => handleAnswer(index);
            
            optionWrapper.appendChild(button);
            optionsListEl.appendChild(optionWrapper);
        });

        updateProgress();
    }

    function handleAnswer(selectedIndex) {
        if(isAnswered) return; // Emp√™cher de r√©pondre deux fois
        isAnswered = true;

        const currentQ = questions[currentIdx];
        const correctIndex = currentQ.correct;
        const selectedBtn = document.getElementById(`btn-${selectedIndex}`);
        const correctBtn = document.getElementById(`btn-${correctIndex}`);
        
        // D√©sactiver tous les boutons
        const allBtns = document.querySelectorAll('.option-btn');
        allBtns.forEach(btn => btn.disabled = true);

        if (selectedIndex === correctIndex) {
            // --- R√âPONSE CORRECTE ---
            score++;
            correctCountSpan.innerText = score;
            
            // Style du bouton
            selectedBtn.classList.add('show-correct');
            // Changer A. par ‚úì
            selectedBtn.querySelector('.option-letter').innerHTML = '‚úì';

            // Afficher la bo√Æte d'explication verte
            showFeedbackBox(selectedIndex, 'correct', "R√©ponse correcte !", currentQ.explanation);

        } else {
            // --- R√âPONSE FAUSSE ---
            wrongs++;
            wrongCountSpan.innerText = wrongs;

            // Style du bouton faux
            selectedBtn.classList.add('selected-wrong');
            // Changer la lettre par ‚úï
            selectedBtn.querySelector('.option-letter').innerHTML = '‚úï';
            
            // 1. Afficher la bo√Æte d'explication ROUGE sous la mauvaise r√©ponse
            // Note : Pour simplifier, j'utilise l'explication g√©n√©rale, mais on pourrait en avoir une sp√©cifique par mauvaise r√©ponse.
            showFeedbackBox(selectedIndex, 'wrong', "Pas tout √† fait...", `Cette option est incorrecte. La bonne r√©ponse est celle qui ${currentQ.explanation.toLowerCase()}`);

            // 2. R√©v√©ler la VRAIE r√©ponse en VERT
            correctBtn.classList.add('sho
